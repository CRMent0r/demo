<!DOCTYPE html>
<html lang="en" class="wheat-bg">
  
<head>
  
<title>ABC Company</title>
<meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/demo/style.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script src="https://kit.fontawesome.com/45f3415061.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/demo/cart.css">
  
<style>
body {font-family: "Lato", sans-serif}
.mySlides {display: none}
</style>
  
</head>

<body>
  <!-- Navbar -->
  <div class="w3-top">
    <div class="w3-bar wheat-bg  w3-card">
      <a class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-large w3-right" href="javascript:void(0)"
        onclick="myFunction()" title="Toggle Navigation     Menu"><i class="fa fa-bars"></i></a>
      <a href="/demo/index.html" class="w3-bar-item w3-button w3-padding-large mahogany-text">HOME</a>
      <a href="/demo/index.html#info" class="w3-bar-item w3-button w3-padding-large w3-hide-small mahogany-text">OUR
        COMPANY</a>
      <a href="/demo/index.html#product"
        class="w3-bar-item w3-button w3-padding-large w3-hide-small mahogany-text">PRODUCT</a>
      <a href="/demo/index.html#contact" class="w3-bar-item w3-button w3-padding-large w3-hide-small mahogany-text">CONTACT
        US</a>
      <div class="w3-dropdown-hover w3-hide-small">
        <button class="w3-padding-large w3-button mahogany-text" title="More">MORE <i
            class="fa fa-caret-down"></i></button>
        <div class="w3-dropdown-content w3-bar-block w3-card-4">
          <a href="/demo/faq.html" class="w3-bar-item w3-button mahogany-text">FAQ</a>
          <a href="/demo/sitemap.html" class="w3-bar-item w3-button mahogany-text">SITEMAP</a>
          <a href="/demo/cart.html" class="w3-bar-item w3-button mahogany-text">SHOPPING CART</a>
          <a href="/demo/terms.html" class="w3-bar-item w3-button mahogany-text">TERM</a>
        </div>
      </div>
      <div class=" w3-padding-large w3-hide-small w3-right w3-hover-blue hover">
      <i class="fa-regular fa-circle-user mahogany-text " onclick="document.getElementById('Log-in').style.display='block'"></i>
      </div>
      <a href="/demo/lang.html" class="w3-padding-large w3-hover-green w3-hide-small w3-right"><i
          class="fa-solid fa-earth-americas mahogany-text"></i></a>
      <a href="/demo/cart.html" class="w3-padding-large w3-hover-purple w3-hide-small w3-right"><i
          class="fa-solid fa-cart-shopping mahogany-text"></i></a>
      <a href="/demojavascript:void(0)" class="w3-padding-large w3-hover-red w3-hide-small w3-right"><i
          class="fa fa-search mahogany-text"></i></a>
      <a href="/demojavascript:void(0)" class="w3-padding-large ash-grey-bg w3-hide-small w3-right"><i
          class="fa-solid fa-bell mahogany-text"></i></a>
    </div>
  </div>

  <!-- Navbar on small screens (remove the onclick attribute if you want the navbar to always show on top of the content when clicking on the links) -->
  <div id="navDemo" class="w3-bar-block wheat-bg w3-hide w3-hide-large w3-hide-medium w3-top w3-hover-red"
    style="margin-top:46px">
    <a href="/demo/index.html#info" class="w3-bar-item w3-button w3-padding-large mahogany-text" onclick="myFunction()">OUR COMPANY</a>
    <a href="/demo/index.html#product" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">PRODUCT</a>
    <a href="/demo/index.html#contact" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">CONTACT US</a>
    <a href="/demo/sitemap.html" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">SITEMAP</a>
    <a href="/demo/faq.html" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">FAQ</a>
  </div>

  <!-- Log-in Modal -->
  <div id="Log-in" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
      <header class="w3-container wheat-bg mahogany-text w3-center w3-padding-32">
        <span onclick="document.getElementById('Log-in').style.display='none'"
          class="w3-button wheat-bg mahogany-text w3-xlarge w3-display-topright w3-hover-red">×</span>
        <h2 class="w3-wide"><i class="fa-solid fa-user w3-margin-right"> Log In</i></h2>
      </header>
      <div class="w3-container">
        <p><label><i class="fa-solid fa-id-card"></i> User Name</label></p>
        <input class="w3-input w3-border" type="text" placeholder="User Name/Email">
        <p><label><i class="fa-solid fa-key"></i> Password</label></p>
        <input class="w3-input w3-border" type="password" placeholder="Password">
        <a href="/demo/index.html"><button class="w3-button w3-block wheat-bg mahogany-text w3-padding-16 w3-section w3-right">Log In<i class="fa fa-check"></i></button></a>
        <button class="w3-button w3-red w3-section"
          onclick="document.getElementById('Log-in').style.display='none'">Close <i class="fa fa-remove"></i></button>
        <p class="w3-right">Haven't got a account?<a href="/demo/create.html" class="w3-text-blue"> Sign Up</a></p>
      </div>
    </div>
  </div>
  </div>
  
<div class="w3-content" style="margin-top:46px">
  <main class="container">
    <div class="basket">
      <div class="basket-module">
        <label for="promo-code">Enter a promotional code</label>
        <input id="promo-code" type="text" name="promo-code" maxlength="5" class="promo-code-field">
        <button class="promo-code-cta wheat-bg mahogany-text">Apply</button>
      </div>
      <div class="basket-labels">
        <ul>
          <li class="item item-heading">Item</li>
          <li class="price">Price</li>
          <li class="quantity">Quantity</li>
          <li class="subtotal">Subtotal</li>
        </ul>
      </div>
      <div class="basket-product">
        <div class="item">
          <div class="product-image">
            <img src="/product/product_1.png" alt="FLINTAN" class="product-frame">
          </div>
          <div class="product-details">
            <h1>FLINTAN</h1>
          </div>
        </div>
        <div class="price">699</div>
        <div class="quantity">
          <input type="number" value="1" min="0" class="quantity-field">
        </div>
        <div class="subtotal">699</div>
        <div class="remove">
          <button>Remove</button>
        </div>
      </div>
      
      <div class="basket-product">
        <div class="item">
          <div class="product-image">
            <img src="/product/product_3.png" alt="KYRRE" class="product-frame">
          </div>
          <div class="product-details">
            <h1>KYRRE</h1>
          </div>
        </div>
        <div class="price">99</div>
        <div class="quantity">
          <input type="number" value="1" min="0" class="quantity-field">
        </div>
        <div class="subtotal">99</div>
        <div class="remove">
          <button>Remove</button>
        </div>
      </div>

      <div class="basket-product">
        <div class="item">
          <div class="product-image">
            <img src="/product/product_2.png" alt="TEODORES" class="product-frame">
          </div>
          <div class="product-details">
            <h1>TEODORES</h1>
          </div>
        </div>
        <div class="price">399</div>
        <div class="quantity">
          <input type="number" value="1" min="0" class="quantity-field">
        </div>
        <div class="subtotal">399</div>
        <div class="remove">
          <button>Remove</button>
        </div>
      </div>
      
    </div>
    <aside>
      <div class="summary">
        <div class="summary-total-items"><span class="total-items"></span> Items in your Bag</div>
        <div class="summary-subtotal">
          <div class="subtotal-title">Subtotal</div>
          <div class="subtotal-value final-value" id="basket-subtotal">1197</div>
          <div class="summary-promo hide">
            <div class="promo-title">Promotion</div>
            <div class="promo-value final-value" id="basket-promo"></div>
          </div>
        </div>
        <div class="summary-delivery">
          <select name="delivery-collection" class="summary-delivery-selection">
              <option value="0" selected="selected">選擇取貨方式</option>
             <option value="collection">到店自取</option>
             <option value="first-class">智能櫃</option>
             <option value="second-class">送貨上門</option>
             <option value="signed-for">順豐營業點/順豐站自取</option>
          </select>
        </div>
        <div class="summary-total">
          <div class="total-title">Total</div>
          <div class="total-value final-value" id="basket-total">1197</div>
        </div>
        <div class="summary-checkout">
          <button class="checkout-cta wheat-bg mahogany-text" onclick="pay()">Go to Secure Checkout</button>
        </div>
        <br>
      </div>
    </aside>
  </main>
</body>

  
<script>

 function pay() {
   alert("Pay successful");
   window.open("/index.html", target="_parent");
 }
  
 /* Set values + misc */
var promoCode;
var promoPrice;
var fadeTime = 300;

/* Assign actions */
$('.quantity input').change(function() {
  updateQuantity(this);
});

$('.remove button').click(function() {
  removeItem(this);
});

$(document).ready(function() {
  updateSumItems();
});

$('.promo-code-cta').click(function() {

  promoCode = $('#promo-code').val();

  if (promoCode == '50off' || promoCode == '50OFF') {
    //If promoPrice has no value, set it as 50 for the 50OFF promocode
    if (!promoPrice) {
      alert("Use promo code successful")
      promoPrice = 50;
    } else if (promoCode) {
      promoPrice = promoPrice * 1;
    }
  } else if (promoCode != '') {
    alert("Invalid Promo Code");
    promoPrice = 0;
  }
  //If there is a promoPrice that has been set (it means there is a valid promoCode input) show promo
  if (promoPrice) {
    $('.summary-promo').removeClass('hide');
    $('.promo-value').text(promoPrice.toFixed(2));
    recalculateCart(true);
  }
});

/* Recalculate cart */
function recalculateCart(onlyTotal) {
  var subtotal = 0;

  /* Sum up row totals */
  $('.basket-product').each(function() {
    subtotal += parseFloat($(this).children('.subtotal').text());
  });

  /* Calculate totals */
  var total = subtotal;

  //If there is a valid promoCode, and subtotal < 50 subtract from total
  var promoPrice = parseFloat($('.promo-value').text());
  if (promoPrice) {
    if (subtotal >= 50) {
      total -= promoPrice;
    } else {
      alert('Order must be more than $50 for Promo code to apply.');
      $('.summary-promo').addClass('hide');
    }
  }

  /*If switch for update only total, update only total display*/
  if (onlyTotal) {
    /* Update total display */
    $('.total-value').fadeOut(fadeTime, function() {
      $('#basket-total').html(total.toFixed(2));
      $('.total-value').fadeIn(fadeTime);
    });
  } else {
    /* Update summary display. */
    $('.final-value').fadeOut(fadeTime, function() {
      $('#basket-subtotal').html(subtotal.toFixed(2));
      $('#basket-total').html(total.toFixed(2));
      if (total == 0) {
        $('.checkout-cta').fadeOut(fadeTime);
      } else {
        $('.checkout-cta').fadeIn(fadeTime);
      }
      $('.final-value').fadeIn(fadeTime);
    });
  }
}

/* Update quantity */
function updateQuantity(quantityInput) {
  /* Calculate line price */
  var productRow = $(quantityInput).parent().parent();
  var price = parseFloat(productRow.children('.price').text());
  var quantity = $(quantityInput).val();
  var linePrice = price * quantity;

  /* Update line price display and recalc cart totals */
  productRow.children('.subtotal').each(function() {
    $(this).fadeOut(fadeTime, function() {
      $(this).text(linePrice.toFixed(2));
      recalculateCart();
      $(this).fadeIn(fadeTime);
    });
  });

  productRow.find('.item-quantity').text(quantity);
  updateSumItems();
}

function updateSumItems() {
  var sumItems = 0;
  $('.quantity input').each(function() {
    sumItems += parseInt($(this).val());
  });
  $('.total-items').text(sumItems);
}

/* Remove item from cart */
function removeItem(removeButton) {
  /* Remove row from DOM and recalc cart total */
  var productRow = $(removeButton).parent().parent();
  productRow.slideUp(fadeTime, function() {
    productRow.remove();
    recalculateCart();
    updateSumItems();
  });
}
</script>
  
</html>
